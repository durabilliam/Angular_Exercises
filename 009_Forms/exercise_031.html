<!DOCTYPE html>
<html lang="en" ng-app="studentApp">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise 031 Form Example with Bootstrap CSS</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
</head>

<body ng-controller="studentController" class="container">
  <form class="form-horizontal" ng-submit="submitStudentForm()" role="form">
    <div class="form-group">
      <label for="firstName" class="col-sm-3 control-label">First Name:</label>
      <div class="col-sm-6">
        <input type="text" id="firstName" class="form-control" ng-model="student.firstName" />
      </div>
      <div class="col-sm-3"></div>
    </div>

    <div class="form-group">
      <label for="lastName" class="col-sm-3 control-label">Last Name:</label>
      <div class="col-sm-6">
        <input type="text" id="lastName" class="form-control" ng-model="student.lastName" />
      </div>
      <div class="col-sm-3"></div>
    </div>

    <div class="form-group">
      <label for="dob" class="col-sm-3 control-label">DoB</label>
      <div class="col-sm-2">
        <input type="date" id="dob" class="form-control" ng-model="student.DoB" />
      </div>
      <div class="col-sm-7"></div>
    </div>

    <div class="form-group">
      <label for="gender" class="col-sm-3 control-label">Gender</label>
      <div class="col-sm-2">
        <select id="gender" class="form-control" ng-model="student.gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="intersex">Intersex</option>
        </select>
      </div>
      <div class="col-sm-7"></div>
    </div>

    <div class="form-group">
      <div class="col-sm-3"></div>
      <div class="col-sm-2">
        <span><b>Training Location</b></span>
        <div class="radio">
          <label><input value="online" type="radio" name="training" ng-model="student.trainingType" />Online</label>
        </div>
        <div class="radio">
          <label><input value="onsite" type="radio" name="training" ng-model="student.trainingType" />OnSite</label>
        </div>
      </div>
      <div class="col-sm-7">
        <span><b>Main Subjects</b></span>
        <div class="checkbox">
          <label><input type="checkbox" ng-model="student.math" />Math</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" ng-model="student.physics" />Physics</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" ng-model="student.chemistry" />Chemistry</label>
        </div>
      </div>
    </div>

    <input type="submit" value="Save" class="btn-primary col-sm-offset-3" />
    <input type="reset" value="Reset" ng-click="resetForm()" />
  </form>
  <script>
    //1. create app module
    var studentApp = angular.module('studentApp', []);
    //2. create controller
    studentApp.controller("studentController", function ($scope, $http) {
      //3. attach originalStudent model object
      $scope.originalStudent = {
        firstName: 'James',
        lastName: 'Bond',
        DoB: new Date('01/31/1973'),
        gender: 'male',
        trainingType: 'online',
        math: false,
        physics: true,
        chemistry: true
      }

      //4.copy originalStudent to student. student willbind to form
      $scope.student = angular.copy($scope.originalStudent);


      //5.create submitStudentForm() function.  Called when SUBMIT Button
      $scope.submitStudentForm = function () {
        var onSuccess = function (date, status, headers, config) {
          alert('Student saved successfully!!!');
        }
        var onError = function (date, status, headers, config) {
          alert('Error occured!!!');
        }
        console.log("Updated Student", $scope.student)
      }
      console.log("Original Student", $scope.student)

      //6. Reset Function
      $scope.resetForm = function () {
        $scope.student = angular.copy($scope.OriginalStudent);
      };

    })
  </script>
</body>

</html>